# these are the core prompts that are used in CNDI
# every response is available in the host template
- name: deployment_target_provider
  type: Select
  message: Where do you want to deploy your cluster?
  required: true
  options:
    - aws
    - azure
    - gcp
    - dev

- name: deployment_target_distribution
  message: Select a distribution
  condition:
    - '{{ $cndi.get_prompt_response(deployment_target_provider) }}'
    - ==
    - aws
  type: Select
  options:
    - microk8s
    - eks
    - fargate
    - rancher

- name: deployment_target_distribution
  message: Select a distribution
  condition:
    - '{{ $cndi.get_prompt_response(deployment_target_provider) }}'
    - ==
    - gcp
  type: Select
  options:
    - microk8s
    - gke
    - rancher

- name: deployment_target_distribution
  message: Select a distribution
  condition:
    - '{{ $cndi.get_prompt_response(deployment_target_provider) }}'
    - ==
    - azure
  type: Select
  options:
    - microk8s
    - aks
    - rancher

- name: use_git_ssh
  default: false
  message: >-
    Do you want to use SSH for git?
  type: Confirm

- name: git_username
  message: >-
    What is your git username?
  type: Input
  required: true

- name: git_password
  condition:
    - '{{ $cndi.get_prompt_response(use_git_ssh) }}'
    - ==
    - false # this is a string but the prompt returns a boolean ðŸ‘€
  message: 'Please enter your Git password:'
  type: Secret
  required: true

- name: git_ssh_private_key
  condition:
    - '{{ $cndi.get_prompt_response(use_git_ssh) }}'
    - ==
    - true
  message: 'Please enter a path to your SSH private key:'
  type: File
  required: true

- name: git_repo
  message: 'Please enter your Git Repo URL:'
  type: Input
  required: true
  # validators:
  #   - url

- name: cert_manager_email
  message: >-
    What email address should be used for Let's Encrypt certificate
    registration?
  type: Input
  default: jane.doe@example.com